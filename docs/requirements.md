# プロジェクト要件定義書: スクロール連動型 歴史・美術タイムライン

## 1. プロジェクト概要

### 1.1. 目的

世界史と日本史の流れを、その時代の代表的な西洋絵画と共に、スクロール操作によってグラフィカルかつ直感的に体験できるウェブサイトを構築する。歴史と美術(絵画)の文脈的な繋がりを視覚的に提示し、ユーザーの知的好奇心を刺激し、学習体験を向上させることを目的とする。

### 1.2. ターゲットユーザー

- 歴史や美術に興味を持つ学生 (中高生、大学生)
- 美術鑑賞をより深く楽しみたい一般の美術愛好家
- 歴史の流れを視覚的に把握したい社会人、教育関係者

### 1.3. 提供価値

- スクロールによる直感的で没入感のある時間旅行体験
- 世界史、日本史、西洋絵画の関連性を同一時間軸上で視覚的に理解
- 難解になりがちな歴史・美術情報をグラフィカルかつインタラクティブに提示
- 信頼できる情報源に基づいた学習リソースの提供

## 2. コアコンセプト

- **スクロール連動型グラフィカルタイムライン:** ユーザーがページをスクロールすることで時間が進み、それに応じて表示コンテンツ（歴史出来事、絵画、背景など）が動的に変化する。
- **統合タイムライン:** 世界史、日本史、西洋絵画を一つの時間軸上に配置し、相互の関連性を把握しやすくする。フィルター機能により表示情報の取捨選択を可能にする。
- **視覚的魅力:** 背景の変化、タイムラインインジケーター、時代区分の強調など、グラフィカルな表現を用いて時代の雰囲気を演出し、ユーザー体験を高める。
- **情報へのアクセス性:** 絵画と関連情報を左右交互に配置し、視線の流れを考慮する。情報は階層化し、最初は概要を、必要に応じて詳細情報を表示することで、情報過多を防ぐ。

## 3. 機能要件 (フェーズ別)

### フェーズ 1: MVP (Minimum Viable Product) - コア体験の実装

**ゴール:** スクロール連動の基本的な仕組みと、限定的な範囲での情報表示を実現する。

- **F1-1: 基本タイムライン構造:**
  - 縦スクロールに連動してコンテンツが表示される基本的なページ構造を構築する。
  - JavaScript でスクロールイベントを検知し、特定の位置でコンテンツを表示/非表示する基本的な仕組みを実装する (`Intersection Observer API` の活用を推奨)。
- **F1-2: 限定的なデータ表示:**
  - **時代範囲:** 特定の 1 時代（例: ルネサンス期 約 1400 年〜1600 年）に限定する。
  - **データ:**
    - 世界史の主要な出来事 (数件〜十数件程度)
    - 該当時代の代表的な西洋絵画 (数点〜十数点程度)
  - データは `JSON` 形式で用意し、フロントエンドで読み込む。
- **F1-3: 左右交互レイアウト:**
  - スクロールしていくと、絵画画像と関連情報（テキスト）が左右交互に表示されるレイアウトを実装する。
  - 例: [絵画(左) - 情報(右)] → [情報(左) - 絵画(右)] → ...
- **F1-4: 基本的なグラフィック表現:**
  - スクロール位置（年代）に応じて、ページの `背景色` が滑らかに変化する程度のシンプルなグラフィック演出を実装する。
- **F1-5: 情報の階層化:**
  - 絵画情報として、最初は作品画像、タイトル、画家名、制作年のみを表示する。
  - クリックまたはホバーで、簡単な解説文が表示されるシンプルな詳細表示機能を実装する。
- **F1-6: 著作権表示:**
  - 使用する絵画画像の出典とライセンス情報を、各画像の近くまたはフッター等に適切に表示する仕組みを設ける。

### フェーズ 2: 機能拡張 - 情報拡充と表現力向上

**ゴール:** 対象範囲を広げ、日本史を追加。フィルター機能やグラフィック表現を強化する。

- **F2-1: 対象時代範囲の拡大:**
  - フェーズ 1 で実装した仕組みをベースに、扱う時代範囲を拡大する（例: 中世〜近世初期など）。
  - データ量増加に対応できるよう、データ構造や読み込み方法を検討する。
- **F2-2: 日本史データの追加と統合:**
  - 拡大した時代範囲に対応する日本史の主要な出来事データを追加する。
  - 世界史、日本史、西洋絵画を一つのタイムライン上に時系列で配置する。データには種別（世界史/日本史/美術）を示す情報を含める。
- **F2-3: 表示フィルター機能:**
  - ユーザーが「世界史のみ」「日本史のみ」「美術のみ」「すべて表示」などを選択できるフィルター機能を実装する。
- **F2-4: グラフィック表現の強化:**
  - **タイムラインインジケーター:** 画面端に、現在の表示年代を示す縦型のインジケーターを実装し、スクロールに連動して動くようにする。
  - **時代区分強調:** 特定の時代（例: ルネサンス、バロック）の範囲に入ると、画面上の表示（インジケーター、背景、ヘッダーなど）でその時代がハイライトされる視覚効果を追加する。
- **F2-5: 相互補足情報表示:**
  - 世界史の出来事や絵画が表示されている際に、「この頃の日本では…」といった形で、関連する日本史の情報を補足的に表示するエリアを設ける。逆も同様。
- **F2-6: 画像遅延読み込み (Lazy Loading):**
  - ページの表示パフォーマンス向上のため、画面内に入るまで画像の読み込みを開始しない遅延読み込みを実装する。

### フェーズ 3: 洗練と追加機能 - 完成度向上

**ゴール:** より高度な表現、利便性、パフォーマンスを実現し、サイト全体の完成度を高める。

- **F3-1: 高度なグラフィックとアニメーション:**
  - `GSAP (ScrollTrigger)` などを活用し、より滑らかで魅力的なスクロール連動アニメーション（要素のフェードイン、パララックス効果など）を実装する。
  - 時代ごとの雰囲気をより効果的に伝える背景画像やテクスチャの使用を検討する。
- **F3-2: 検索機能:**
  - キーワード（出来事名、人物名、画家名、作品名など）でタイムライン上の該当箇所にジャンプできる検索機能を実装する。
- **F3-3: レスポンシブデザイン強化:**
  - スマートフォン、タブレット、PC など、様々なデバイスで最適なレイアウトと操作性を提供するように、レスポンシブ対応を徹底する。
  - タッチデバイスでのスクロール体験を考慮する。
- **F3-4: パフォーマンス最適化:**
  - コードの最適化、画像の圧縮、サーバー応答速度など、サイト全体の表示速度と動作の軽快さを追求する。
- **F3-5: アクセシビリティ向上:**
  - キーボード操作、スクリーンリーダー対応など、アクセシビリティに配慮した実装を行う。
- **F3-6: (オプション) ユーザー機能:**
  - お気に入り登録、閲覧履歴などの機能を追加検討。

## 4. 非機能要件

- **NFR-1: パフォーマンス:** スクロールアニメーションが滑らか（60fps 目標）で、ページの読み込み時間が短いこと。
- **NFR-2: ブラウザ互換性:** 主要なモダンブラウザ（Chrome, Firefox, Safari, Edge の最新版）で正常に動作すること。
- **NFR-3: レスポンシブデザイン:** 様々な画面サイズで適切に表示・操作できること。
- **NFR-4: 著作権遵守:** 使用する画像やテキストの著作権・ライセンスを遵守し、出典を明記すること。特に画像利用には細心の注意を払う。
  - **画像利用方針:**
    - **優先利用:** パブリックドメイン、またはクリエイティブ・コモンズ・ライセンス（CC0, CC BY, CC BY-SAなど）が明確に付与されている画像を優先的に利用する。
    - **美術館・アーカイブAPIの活用:** メトロポリタン美術館 (Open Access)、アムステルダム国立美術館 (Rijksmuseum API) など、利用規約が明確なAPIから提供される画像を活用する。
    - **出典とライセンスの徹底管理:** 使用する全ての画像について、出典元とライセンス情報をデータとして記録し、ウェブサイト上に明示する。
    - **リスク管理:** 万が一、著作権に関する指摘や問題が発生した場合に、迅速に該当画像を差し替えまたは削除できる体制を整える。
- **NFR-5: データの正確性:** 表示する歴史情報、美術情報の正確性を担保すること。信頼できる情報源を利用し、可能であれば出典を明記する。
- **NFR-6: 保守性・拡張性:** 今後のデータ追加や機能拡張が容易に行えるよう、コードの可読性やコンポーネント設計に配慮すること。

## 5. 技術スタック (提案)

- **フロントエンド:**
  - `HTML5`
  - `CSS3` (**Tailwind CSS** の利用を推奨)
  - `JavaScript (ES6+)`
  - **UI フレームワーク/ライブラリ:** `React`, `Vue.js`, `Svelte` のいずれかを推奨 (コンポーネントベース開発のため)
  - **アニメーション/スクロール制御:** `GSAP (ScrollTrigger)` (フェーズ 3 で本格導入), `Intersection Observer API` (フェーズ 1 から活用)
- **データ管理:**
  - **初期 (フェーズ 1, 2):** `JSON` ファイル
  - **将来的な拡張:** (当面は考慮しない) 必要に応じて `Node.js` + `Express` 等のバックエンドと `PostgreSQL`/`MySQL`/`MongoDB` 等のデータベース導入を検討
- **ホスティング:**
  - **静的サイト:** **`Vercel`**, **`GitHub Pages`** を推奨
  - **バックエンド導入時:** `Heroku`, `AWS`, `Google Cloud` 等

## 6. データ要件

- **歴史データ (世界史/日本史共通):**
  - `id`: 一意の識別子
  - `year`: 年代 (範囲指定も可 例: 1450-1455)
  - `type`: "world_history" / "japan_history"
  - `title`: 出来事のタイトル
  - `description`: 簡単な説明
  - `region`: 関連地域 (任意)
  - `tags`: カテゴリタグ (例: "政治", "文化", "戦争") (任意)
- **絵画データ (西洋絵画):**
  - `id`: 一意の識別子
  - `year`: 制作年 (範囲指定も可)
  - `type`: "artwork"
  - `title`: 作品タイトル
  - `artist`: 画家名
  - `image_url`: 画像ファイルのパス or URL
  - `description`: 簡単な解説
  - `details`: 詳細情報 (所蔵美術館、技法、寸法など) (任意)
  - `era_style`: 時代様式 (例: "ルネサンス", "バロック")
  - `credit`: 画像の出典・ライセンス情報 (必須)
- **データ形式:** `JSON` 形式を推奨。配列の中に各データオブジェクトが含まれる形式が良い。
